server:
  port: 8082

spring:
  application:
    name: imps-mock-switch

  # ===========================================
  # DATABASE CONFIGURATION - imps_db (shared with IMPS Backend)
  # ===========================================
  datasource:
    url: jdbc:postgresql://localhost:5432/imps_db
    username: postgres
    password: root
    hikari:
      # Run housekeeper more often to avoid "thread starvation or clock leap" warnings
      # (e.g. when machine sleeps or pool is briefly busy)
      housekeeping-run-interval: 10000  # 10s (default 30s)

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    open-in-view: false
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: true

# ===========================================
# IMPS BACKEND ROUTING (to send responses)
# Dynamic paths only: /switch/<type>/{txnId}. Do not use /2.1.
# ===========================================
imps:
  backend:
    base-url: http://localhost:8081
    endpoints:
      resppay: /switch/resppay
      respchktxn: /switch/respchktxn
      resphbt: /switch/resphbt
      resplistaccpvd: /switch/resplistaccpvd
      respvaladd: /switch/respvaladd

# ===========================================
# LOGGING (optional: set to ERROR to hide HikariCP housekeeper warning)
# The "thread starvation or clock leap" warning is harmless (e.g. machine sleep or brief load).
# ===========================================
logging:
  level:
    com.zaxxer.hikari.pool.HikariPool: WARN   # set to ERROR to suppress housekeeper delta warning

# ===========================================
# MOCK SWITCH CONFIGURATION (auto-response only)
# ===========================================
mock:
  # Auto-respond: automatically send response after receiving request
  auto-respond: true
  # Response delay in milliseconds (simulate processing time)
  response-delay-ms: 500
  # Default response result
  default-result: SUCCESS
